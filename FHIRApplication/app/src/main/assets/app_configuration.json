{
  "listItem": {
    "icon": "(item.gender=='female') ? 'patient_female' : 'patient_male';",
    "data": [
      {
        "value": "item.name",
        "style": "displaySmall"
      },
      {
        "value": "item.id",
        "style": "displaySmall"
      },
      {
        "value": "item.city + ', ' + item.country",
        "style": "displaySmall"
      }
    ]
  },
  "registrationForm": {
    "form": [
      {
        "id": "id",
        "defaultLabel": "Patient ID",
        "defaultValue": "data.id",
        "term": "reg_form_patient_id",
        "controlType": "SHORT_TEXT",
        "display": "none",
        "rule": [
          {
            "name": "mandatory",
            "value": "true"
          }
        ]
      },
      {
        "id": "resourceId",
        "defaultLabel": "Resource ID",
        "defaultValue": "data.id",
        "term": "reg_form_patient_resource_id",
        "controlType": "SHORT_TEXT",
        "display": "none",
        "rule": [
          {
            "name": "mandatory",
            "value": "true"
          }
        ]
      },
      {
        "id": "name",
        "defaultLabel": "Name",
        "defaultValue": "data.name",
        "term": "reg_form_patient_name",
        "controlType": "SHORT_TEXT",
        "display": "none",
        "rule": [
          {
            "name": "mandatory",
            "value": "true"
          },
          {
            "name": "minLength",
            "value": "2"
          }
        ]
      },
      {
        "id": "gender",
        "defaultLabel": "Gender",
        "defaultValue": "data.gender",
        "term": "reg_form_patient_gender",
        "controlType": "DROPDOWN_LIST",
        "options": [
          {
            "defaultLabel": "Male",
            "term": "reg_form_male",
            "value": "male"
          },
          {
            "defaultLabel": "Female",
            "term": "reg_form_female",
            "value": "female"
          }
        ],
        "rule": [
          {
            "name": "mandatory",
            "value": "true"
          }
        ]
      },
      {
        "id": "dob",
        "defaultLabel": "Dob",
        "defaultValue": "data.dob",
        "term": "reg_form_patient_dob",
        "controlType": "DATE",
        "formatDate": "YYYY-MM-DD",
        "rule": [
          {
            "name": "mandatory",
            "value": "true"
          }
        ]
      },
      {
        "id": "phone",
        "defaultLabel": "Phone",
        "defaultValue": "data.phone",
        "term": "reg_form_patient_phone",
        "controlType": "PHONE",
        "rule": [
          {
            "name": "mandatory",
            "value": "true"
          },
          {
            "name": "minLength",
            "value": "8"
          }
        ]
      },
      {
        "id": "city",
        "defaultLabel": "City",
        "defaultValue": "data.city",
        "term": "reg_form_patient_city",
        "controlType": "SHORT_TEXT",
        "rule": [
          {
            "name": "mandatory",
            "value": "true"
          },
          {
            "name": "minLength",
            "value": "2"
          }
        ]
      },
      {
        "id": "country",
        "defaultLabel": "Country",
        "defaultValue": "data.country",
        "term": "reg_form_patient_country",
        "controlType": "SHORT_TEXT",
        "rule": [
          {
            "name": "mandatory",
            "value": "true"
          },
          {
            "name": "minLength",
            "value": "2"
          }
        ]
      },
      {
        "id": "isActive",
        "defaultLabel": "Is Active ?",
        "defaultValue": "data.isActive",
        "term": "reg_form_patient_is_active",
        "controlType": "BOOLEAN",
        "rule": [
          {
            "name": "mandatory",
            "value": "true"
          }
        ]
      }
    ],
    "buttons": [
      {
        "defaultLabel": "Save",
        "term": "reg_form_btn_save",
        "onClick": [
          {
            "actionType": "queueActivity",
            "previewPrompt": "true",
            "resource": "Patient",
            "payload": {
              "resourceType": "'Patient'",
              "id_BACKUP": "'e77bde85-a5e6-4e2a-bf2b-c5a72dd348a2'",
              "meta": {
                "versionId": "'1'",
                "lastUpdated": "DateUtils.getCurrentDate()",
                "source": "'#oJDFxq0DYNZdKZCQ'"
              },
              "active": "data.isActive",
              "name": [ {
                "family": "data.name.split(' ')[0]",
                "given": [ "data.name.substring( data.name.indexOf(' '), data.name.length)" ]
              } ],
              "telecom": [ {
                "system": "'phone'",
                "value": "data.phone"
              } ],
              "gender": "data.gender",
              "birthDate": "data.dob",
              "address": [ {
                "city": "data.city",
                "country": "data.country"
              } ]
            }
          },
          {
            "actionType": "closeForm"
          }
        ]
      },
      {
        "defaultLabel": "Cancel",
        "term": "reg_form_btn_cancel",
        "onClick": [
          {
            "actionType": "closeForm"
          }
        ]
      }
    ]
  }

}